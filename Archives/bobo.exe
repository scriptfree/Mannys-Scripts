local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local localPlayer = Players.LocalPlayer
local mouse = localPlayer:GetMouse()
local noclipEnabled = false
local clickTeleportEnabled = false
local speedBoostEnabled = false
local hitboxEnabled = false
local originalWalkSpeed = 16
local dragging, dragInput, dragStart, startPos

_G.HeadSize = 20 -- Original size
_G.Disabled = true

-- Create UI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.ResetOnSpawn = false -- Prevents UI from disappearing on death
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local ClickTpToggle = Instance.new("TextButton")
local NoClipToggle = Instance.new("TextButton")
local SpeedBoostToggle = Instance.new("TextButton")
local HitboxToggle = Instance.new("TextButton")

ScreenGui.Parent = localPlayer:WaitForChild("PlayerGui")

Frame.Parent = ScreenGui
Frame.Size = UDim2.new(0, 150, 0, 200)
Frame.Position = UDim2.new(0, 10, 0, 10)
Frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Frame.BorderSizePixel = 2

Title.Parent = Frame
Title.Size = UDim2.new(1, 0, 0, 20)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.Text = "Bobo.exe"
Title.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 16

ClickTpToggle.Parent = Frame
ClickTpToggle.Size = UDim2.new(1, -10, 0, 40)
ClickTpToggle.Position = UDim2.new(0, 5, 0, 25)
ClickTpToggle.Text = "Click TP: OFF"
ClickTpToggle.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
ClickTpToggle.MouseButton1Click:Connect(function()
    clickTeleportEnabled = not clickTeleportEnabled
    ClickTpToggle.Text = "Click TP: " .. (clickTeleportEnabled and "ON" or "OFF")
end)

NoClipToggle.Parent = Frame
NoClipToggle.Size = UDim2.new(1, -10, 0, 40)
NoClipToggle.Position = UDim2.new(0, 5, 0, 70)
NoClipToggle.Text = "NoClip: OFF"
NoClipToggle.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
NoClipToggle.MouseButton1Click:Connect(function()
    noclipEnabled = not noclipEnabled
    NoClipToggle.Text = "NoClip: " .. (noclipEnabled and "ON" or "OFF")
end)

SpeedBoostToggle.Parent = Frame
SpeedBoostToggle.Size = UDim2.new(1, -10, 0, 40)
SpeedBoostToggle.Position = UDim2.new(0, 5, 0, 115)
SpeedBoostToggle.Text = "Speed Boost: OFF"
SpeedBoostToggle.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
SpeedBoostToggle.MouseButton1Click:Connect(function()
    speedBoostEnabled = not speedBoostEnabled
    SpeedBoostToggle.Text = "Speed Boost: " .. (speedBoostEnabled and "ON" or "OFF")
    
    local function applySpeedBoost()
        local character = localPlayer.Character
        if character then
            local humanoid = character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                -- Use the original walk speed if speed boost is off
                humanoid.WalkSpeed = speedBoostEnabled and 80 or originalWalkSpeed
            end
        end
    end
    
    applySpeedBoost()
    
    localPlayer.CharacterAdded:Connect(function()
        if speedBoostEnabled then
            wait(0.5) -- Ensure the character loads properly
            applySpeedBoost()
        end
    end)
end)

HitboxToggle.Parent = Frame
HitboxToggle.Size = UDim2.new(1, -10, 0, 40)
HitboxToggle.Position = UDim2.new(0, 5, 0, 160)
HitboxToggle.Text = "Hitbox: OFF"
HitboxToggle.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
HitboxToggle.MouseButton1Click:Connect(function()
    hitboxEnabled = not hitboxEnabled
    _G.Disabled = not hitboxEnabled
    HitboxToggle.Text = "Hitbox: " .. (hitboxEnabled and "ON" or "OFF")
end)

RunService.RenderStepped:Connect(function()
    if not _G.Disabled then
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= localPlayer and player.Character then
                pcall(function()
                    local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
                    if rootPart then
                        rootPart.Size = Vector3.new(_G.HeadSize, _G.HeadSize, _G.HeadSize)
                        rootPart.Transparency = 0.9
                        rootPart.BrickColor = BrickColor.new("Really black")
                        rootPart.Material = "Neon"
                        rootPart.CanCollide = false
                    end
                end)
            end
        end
    end
end)

-- Click TP Functionality
mouse.Button1Down:Connect(function()
    if clickTeleportEnabled and mouse.Target then
        local character = localPlayer.Character
        if character then
            local rootPart = character:FindFirstChild("HumanoidRootPart")
            if rootPart then
                rootPart.CFrame = CFrame.new(mouse.Hit.p)
            end
        end
    end
end)

-- NoClip Functionality
local function onNoClip()
    if noclipEnabled then
        for _, part in pairs(localPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end

RunService.Stepped:Connect(function()
    if noclipEnabled then
        onNoClip()
    end
end)

-- Dragging functionality
Title.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = Frame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

Title.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        local delta = input.Position - dragStart
        Frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)
